Language: C
BasedOnStyle: LLVM
Standard: c++11  # like C99

IndentWidth: 4
TabWidth: 4
UseTab: Never
IndentCaseLabels: false
IndentPPDirectives: None
NamespaceIndentation: None

BreakBeforeBraces: Custom
BraceWrapping:
  AfterClass: true
  AfterControlStatement: false
  AfterEnum: false
  AfterFunction: true
  AfterNamespace: false
  AfterStruct: false
  AfterUnion: false
  AfterExternBlock: false
  BeforeCatch: false
  BeforeElse: false
  BeforeWhile: false
  IndentBraces: false
  SplitEmptyFunction: true
  SplitEmptyRecord: true
  SplitEmptyNamespace: true

ColumnLimit: 120
AllowShortBlocksOnASingleLine: Never
AllowShortCaseLabelsOnASingleLine: false
AllowShortEnumsOnASingleLine: false
AllowShortFunctionsOnASingleLine: None
AllowShortIfStatementsOnASingleLine: Never
AllowShortLoopsOnASingleLine: false
AlwaysBreakAfterReturnType: None
BreakBeforeBinaryOperators: None
BreakBeforeTernaryOperators: true

AlignAfterOpenBracket: Align
AlignArrayOfStructures: None
AlignConsecutiveAssignments: None
AlignConsecutiveBitFields: Consecutive
AlignConsecutiveDeclarations: None
AlignConsecutiveMacros: Consecutive
AlignEscapedNewlines: Left
AlignOperands: Align
AlignTrailingComments: true

SpaceAfterCStyleCast: false
SpaceAfterLogicalNot: false
SpaceAroundPointerQualifiers: Default
SpaceBeforeAssignmentOperators: true
SpaceBeforeCaseColon: false
SpaceBeforeParens: ControlStatements
SpaceBeforeSquareBrackets: false
SpaceInEmptyBlock: false
SpaceInEmptyParentheses: false
SpacesBeforeTrailingComments: 2
SpacesInCStyleCastParentheses: false
SpacesInConditionalStatement: false
SpacesInContainerLiterals: false
SpacesInParentheses: false
SpacesInSquareBrackets: false

DerivePointerAlignment: false
PointerAlignment: Right

IncludeBlocks: Regroup
IncludeCategories:
  # Standard C headers
  - Regex: '^<std'
    Priority: 1
  - Regex: '^<setjmp\.h>'
    Priority: 1
  - Regex: '^<errno\.h>'
    Priority: 1
  - Regex: '^<assert\.h>'
    Priority: 1
  - Regex: '^<ctype\.h>'
    Priority: 1
  - Regex: '^<float\.h>'
    Priority: 1
  - Regex: '^<limits\.h>'
    Priority: 1
  - Regex: '^<locale\.h>'
    Priority: 1
  - Regex: '^<math\.h>'
    Priority: 1
  - Regex: '^<signal\.h>'
    Priority: 1
  - Regex: '^<time\.h>'
    Priority: 1
  - Regex: '^<string\.h>'
    Priority: 1
  # Project public headers
  - Regex: '^<lierre\.h>'
    Priority: 2
  - Regex: '^<lierre/'
    Priority: 2
  # Third-party headers
  - Regex: '^<poporon\.h>'
    Priority: 3
  - Regex: '^<poporon/'
    Priority: 3
  - Regex: '^<'
    Priority: 3
  # Project internal headers
  - Regex: '^"internal/'
    Priority: 4
  # Other project headers (quoted)
  - Regex: '^"'
    Priority: 5
SortIncludes: CaseInsensitive

MacroBlockBegin: ''
MacroBlockEnd: ''

PenaltyBreakAssignment: 2
PenaltyBreakBeforeFirstCallParameter: 19
PenaltyBreakComment: 300
PenaltyBreakFirstLessLess: 120
PenaltyBreakString: 1000
PenaltyExcessCharacter: 1000000
PenaltyIndentedWhitespace: 0
PenaltyReturnTypeOnItsOwnLine: 60

InsertBraces: true
InsertNewlineAtEOF: true
KeepEmptyLinesAtTheStartOfBlocks: false
MaxEmptyLinesToKeep: 1
ReflowComments: true
SeparateDefinitionBlocks: Leave
